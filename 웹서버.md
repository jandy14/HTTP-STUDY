# 웹 서버
클라이언트가 http 요청을 보내는 목적지

요청을 받아서 처리해주는 서버(프로그램)

http 요청이 정적 컨텐츠(html, png, css, js 등)를 요구하면 바로 처리해주고 동적 컨텐츠(DB조회, 로직처리 등)를 요구하면 WAS에게 처리를 요구한다.
## apache와 nginx
둘 다 대표적으로 사용되는 웹 서버이다. 점유율을 아파치가 훨씬 우세하지만 nginx의 점유율도 꾸준히 상승 중이다.

둘의 자세한 내용는 [아파치와 nginx](./아파치와%20nginx.md)

# WAS
Web Application Server

동적 컨텐츠를 제공하기 위한 어플리케이션 서버

## 작동 과정
1. 클라이언트가 웹 서버에 동적 페이지를 요청한다.
1. 웹 서버는 WAS에게 처리를 요청한다.
1. WAS에 웹 서버로부터 요청이 오면, 컨테이너(JSP등을 처리할 수 있는 소프트웨어)가 요청을 받는다.
1. 컨테이너는 web.xml을 참조해 요청에 대한 스레드를 생성한다.
1. 생성된 스레드는 동적 페이지를 생성해 컨테이너에 전달한다.
1. 컨테이너는 전달받는 데이터를 HTTPResponse형태로 변환해 웹 서버에 전달한다.
1. 웹 서버는 전달받는 HTTPResponse를 클라이언트에 전달한다.
## WAS만 쓰지 않는 이유
WAS(지금의 예시는 tomcat)의 기능이 확장되면서 WAS도 정적 컨텐츠를 응답하는데 웹 서버만큼의 성능이 나온다고 한다.

하지만 아직도 아파치같은 웹 서버를 앞에 두는 이유는 PHP앱과 JAVA앱을 같이 사용하거나 로드밸런싱 등의 중간자 역할이 필요할 때가 있어서 이다.
# 어느게 웹 서버? WAS?
- 웹 서버
    - 아파치
    - nginx
- WAS
    - 톰캣
    - JBOSS
    - Jeus
    - 톰캣말곤 들어본적이 없음
# CGI (common gateway interface)
웹 서버가 외부 프로그램과 정보를 주고받는 방법이나 규약(프로토콜?)

웹 서버가 동적 컨텐츠를 보여주기 위한 또 다른 방식.

웹 서버가 다른 프로그램을 실행시켜 처리를 맡긴다.

구조가 간단하지만 매번 새로운 프로세스가 실행되기 때문에 서버의 부하가 크다.

자주 쓰이는건 PHP, JSP, ASP
# 참고 자료
웹 서버와 WAS
https://jeong-pro.tistory.com/84

PHP에 대해
https://dev-youngjun.tistory.com/67

CGI
https://sfeg.tistory.com/196