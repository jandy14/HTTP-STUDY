# JavaScript
자바스크립트는 웹페이지를 동적으로 만들기 위해 만들어진 언어다.

자바스크립트는 `자바스크립트 엔진`에 의해서 해석되고 실행된다.

이름에 자바가 붙어있는건 JAVA의 인기에 편승하기 위해서 붙여졌을 뿐, 딱히 관련점은 없다.

현재는 자바스크립트가 모든 브라우저에서 지원되고 사용도가 높아짐에 따라 여러 버전이 등장하고, 브라우저 외에도 사용되고 있다.

# JS는 어디에 쓰이고 있을까
자바스크립트가 사용되고 있는 곳을 살펴보자.

## 브라우저
가장 많이 사용되는 목적은 원래의 목적이기도 한 웹 페이지를 동적으로 만들기 위해서일 것이다.

브라우저 안에는 자바스크립트 가상 머신이 포함되어 있다.

브라우저마다 엔진이 달라 작동의 차이가 있을 수 있다.

자바스크립트 가상 머신은 웹과 사용자의 컴퓨터를 분리해 사용자가 안전하게 웹을 볼 수 있게 해준다.

다음과 같은 점은 불가능하다.
- 사용자의 디스크에 있는 파일을 읽거나 쓰지 못한다.
- 브라우저의 다른 창의 정보를 알 수 없다. (ajax같은 기술이 있지만 SOP로 인해 막힌다.)

## 서버
Node.js가 등장하고 백엔드 개발용으로 자바스크립트가 사용되기 시작했다.

## 파생 언어들
자바스크립트를 개선하기 위해서 파생언어가 생겨났다.

- TypeScript : MS에서 만든 자바스크립트에 자료형을 명시화한 언어
- CoffeeScript : 여러 문법적 설탕을 추가하고 짧은 문법을 도입한 언어
- JSX : React에서 사용되며, React컴포넌트를 쉽게 만들기 위해 문법을 추가한 언어

파생 언어들은 모두 브라우저에서 돌아갈 수 있게 컴파일 과정을 거치며, 그 결과는 `자바스크립트`다.

## 그 외
웹 환경을 그대로 가져와 데스트탑 앱을 만들어주는 Electron, NW.js도 JS를 사용하게 된다. (Chromium과 Node.js기반이다.)

ReactNative를 통해 안드로이드,ios앱을 만들 수 있다.

# JS의 이벤트 루프
JS는 단일 스레드 기반의 언어다. 다른 말로 한번에 하나의 일만 처리 가능하다는 의미다. 하지만 실제 브라우저는 여러 작업을 동시에 수행하는거처럼 보인다. (ex.이미지를 불러오면서 애니메이션을 실행시키면서 마우스 클릭에 반응한다.)

JS엔진은 실제로 단일 콜스택을 가지고 있으며, 한번에 하나의 작업만 처리 가능하다. 비동기나 동시성을 가능하게 해주는 것은 JS엔진이 아닌 엔진을 구동하는 환경(브라우저,Node.js)에서 지원해 주는 것이다.
```
ES6부터 Job Queue라는 것이 생겨서 JS엔진도 비동기 처리를 지원한다
```

간략한 구도는 이렇다.

![브라우저의 JS구조](https://image.toast.com/aaaadh/real/2018/techblog/b1493856379d11e69c16a9a4cf841567.png)

JS엔진에서 Web API를 호출하면 API가 작업을 처리하게 된다.
비동기로 처리된 작업들이 Task Queue에 쌓이고 JS엔진의 콜 스택이 비면 Task Queue의 제일 앞의 작업을 콜 스택에 넣어 처리한다.

환경별로 이벤트 루프에 대한 구조는 비슷한 구조를 가지지만, 약간의 차이점은 있을 수 있다.

# 용어
- Syntactic Sugar (문법적 설탕) : 개발자가 사용하기 쉬우라고 만든 문법

# 참고 자료
- JS
    - https://ko.javascript.info/intro
    - https://learnjs.vlpt.us/basics/

- 이벤트 루프
    - https://meetup.toast.com/posts/89
    - https://velog.io/@thms200/Event-Loop-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84
